---
apiVersion: metallb.io/v1beta1
kind: BGPAdvertisement
metadata:
  name: bgp-lb
  namespace: networking
spec:
  ipAddressPools:
    - bgp-pool
  peers:
    - gateway
---
apiVersion: metallb.io/v1beta2
kind: BGPPeer
metadata:
  name: gateway
  namespace: networking
spec:
  peerAddress: 192.168.1.254
  peerASN: 65000
  myASN: 65001
  ebgpMultiHop: true
# holdTime: "90s"
# keepaliveTime: "20s"
---
apiVersion: metallb.io/v1beta1
kind: IPAddressPool
metadata:
  name: bgp-pool
  namespace: networking
spec:
  addresses:
    - 10.0.150.0/24
# avoidBuggyIPs: true
