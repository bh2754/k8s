apiVersion: helm.toolkit.fluxcd.io/v2beta1
kind: HelmRelease
metadata:
    name: outline
    namespace: default
spec:
    values:
        initContainers:
            init-db:
                image: ghcr.io/onedr0p/postgres-initdb:14.5
                env:
                    - name: POSTGRES_HOST
                      value: postgres-rw.database.svc.cluster.local
                    - name: POSTGRES_DB
                      value: outline
                    - name: POSTGRES_SUPER_PASS
                      valueFrom:
                        secretKeyRef:
                            name: postgres-superuser
                            key: password
                envFrom:
                    - secretRef:
                        name: outline
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age16vhmz79lvv4q7nes99c2mr2l5cmrq34qlnyws3dkfnhfa7jhapssqm2jkd
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBZQjc4cE1SajhFTi9WNGla
            T1Z5SFVBZ1h2K0JPZURaVjhZK0dFYlFJd2lzCjJybkpPNDk1VmRPRC9reHM0RUtI
            U1o0R2cybm15TDlNdjQwak1GRlZYNEkKLS0tIDlXZUdCZ3plMWtwVEJoM2RFWWtn
            Tjk3a21VWjQzajhBQ0FlcUhnODY2N0EK+mkPahAnef0O2LteuyDp85fuYYRGZ3P7
            SRUDPNKWv4T/4833yLrfQspRI6GgeGAmwxyncGWczFbQQa3LXE/hPA==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2022-10-12T04:32:56Z"
    mac: ENC[AES256_GCM,data:V685MQ6HONKTcQT9dnJvZbVn1Kn43UPQja/5f35RRe19MRCYrPFZPr8ob5KU0fnKllAfeKYQwmDvqckvJGG2rN2g6QhXDHwK/q1exb5+k0yD4gyiZMtIqC1kXWxyLiJsrT+8Z8v0Y+OEbWdm56tRGxSkVWo+CWLcgpNQjBnwYjA=,iv:K43nWvYlwbA5QiBE1BLsvmavwcyB/8Lp5jONs10NcFc=,tag:oQeMXB0g7gckJ4TBBRNM5w==,type:str]
    pgp: []
    encrypted_regex: ^(data|stringData)$
    version: 3.7.3
